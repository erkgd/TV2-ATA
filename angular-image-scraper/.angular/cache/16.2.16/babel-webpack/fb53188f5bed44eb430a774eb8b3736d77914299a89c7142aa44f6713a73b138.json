{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/image.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ProfileComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error.user, \" \");\n  }\n}\nfunction ProfileComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15);\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17)(4, \"h1\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 20);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 21)(12, \"div\", 22)(13, \"span\", 23);\n    i0.ɵɵtext(14, \"Uploads\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 24);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 22)(18, \"span\", 23);\n    i0.ɵɵtext(19, \"Favorites\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 24);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r2.user.avatar || \"assets/default-avatar.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.user.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.user.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Member since \", i0.ɵɵpipeBind2(10, 6, ctx_r2.user.createdAt, \"mediumDate\"), \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.userImages.length || 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.favoriteImages.length || 0);\n  }\n}\nfunction ProfileComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelement(1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.error.images, \" \");\n  }\n}\nfunction ProfileComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" You haven't uploaded any images yet. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/image\", a1];\n};\nfunction ProfileComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"a\", 28);\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 30)(4, \"h3\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"div\", 33)(8, \"span\", 34);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_12_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const image_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.deleteImage(ctx_r12.getImageId(image_r11)));\n    });\n    i0.ɵɵelement(13, \"i\", 36);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const image_r11 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, ctx_r6.getImageId(image_r11)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", image_r11.url, i0.ɵɵsanitizeUrl)(\"alt\", image_r11.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(image_r11.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", image_r11.likesCount || 0, \" likes\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", image_r11.commentsCount || 0, \" comments\");\n  }\n}\nfunction ProfileComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelement(1, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.error.favorites, \" \");\n  }\n}\nfunction ProfileComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" You haven't added any images to your favorites yet. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"a\", 28);\n    i0.ɵɵelement(2, \"img\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 30)(4, \"h3\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"div\", 33)(8, \"span\", 34);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_20_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const image_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.removeFromFavorites(ctx_r15.getImageId(image_r14)));\n    });\n    i0.ɵɵelement(13, \"i\", 37);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const image_r14 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, ctx_r10.getImageId(image_r14)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", image_r14.url, i0.ɵɵsanitizeUrl)(\"alt\", image_r14.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(image_r14.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", image_r14.likesCount || 0, \" likes\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", image_r14.commentsCount || 0, \" comments\");\n  }\n}\nexport class ProfileComponent {\n  constructor(authService, imageService) {\n    this.authService = authService;\n    this.imageService = imageService;\n    this.user = null;\n    this.userImages = [];\n    this.favoriteImages = [];\n    this.loading = {\n      user: true,\n      images: true,\n      favorites: true\n    };\n    this.error = {\n      user: '',\n      images: '',\n      favorites: ''\n    };\n  }\n  ngOnInit() {\n    this.loadUserProfile();\n    this.loadUserImages();\n    this.loadFavoriteImages();\n  }\n  loadUserProfile() {\n    this.loading.user = true;\n    this.authService.getCurrentUser().subscribe({\n      next: user => {\n        this.user = user;\n        this.loading.user = false;\n      },\n      error: err => {\n        console.error('Error loading profile:', err);\n        this.error.user = 'Failed to load profile information. Please try again.';\n        this.loading.user = false;\n      }\n    });\n  }\n  loadUserImages() {\n    this.loading.images = true;\n    this.imageService.getUserImages().subscribe({\n      next: images => {\n        this.userImages = images;\n        this.loading.images = false;\n      },\n      error: err => {\n        console.error('Error loading user images:', err);\n        this.error.images = 'Failed to load your uploaded images. Please try again.';\n        this.loading.images = false;\n      }\n    });\n  }\n  loadFavoriteImages() {\n    this.loading.favorites = true;\n    this.imageService.getUserFavorites().subscribe({\n      next: favorites => {\n        this.favoriteImages = favorites;\n        this.loading.favorites = false;\n      },\n      error: err => {\n        console.error('Error loading favorites:', err);\n        this.error.favorites = 'Failed to load your favorite images. Please try again.';\n        this.loading.favorites = false;\n      }\n    });\n  }\n  deleteImage(imageId) {\n    if (confirm('Are you sure you want to delete this image?')) {\n      this.imageService.deleteImage(imageId).subscribe({\n        next: () => {\n          this.userImages = this.userImages.filter(img => this.getImageId(img) !== imageId);\n        },\n        error: err => {\n          console.error('Error deleting image:', err);\n          alert('Failed to delete image. Please try again.');\n        }\n      });\n    }\n  }\n  removeFromFavorites(imageId) {\n    this.imageService.unlikeImage(imageId).subscribe({\n      next: () => {\n        this.favoriteImages = this.favoriteImages.filter(img => (img.id || img._id) !== imageId);\n      },\n      error: err => {\n        console.error('Error removing from favorites:', err);\n        alert('Failed to remove from favorites. Please try again.');\n      }\n    });\n  }\n  // Helper method to get image ID regardless of property name\n  getImageId(image) {\n    return image.id || image._id || '';\n  }\n  static {\n    this.ɵfac = function ProfileComponent_Factory(t) {\n      return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ImageService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfileComponent,\n      selectors: [[\"app-profile\"]],\n      decls: 21,\n      vars: 11,\n      consts: [[1, \"container\", \"mx-auto\", \"px-4\", \"py-8\"], [1, \"mb-8\", \"bg-white\", \"rounded-lg\", \"shadow-md\", \"p-6\"], [\"class\", \"flex justify-center\", 4, \"ngIf\"], [\"class\", \"text-red-600 text-center mb-4\", 4, \"ngIf\"], [\"class\", \"flex flex-col md:flex-row items-center\", 4, \"ngIf\"], [1, \"mb-12\"], [1, \"text-xl\", \"font-bold\", \"mb-4\", \"border-b\", \"pb-2\"], [\"class\", \"flex justify-center my-8\", 4, \"ngIf\"], [\"class\", \"text-center text-gray-500 my-8\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"sm:grid-cols-2\", \"md:grid-cols-3\", \"lg:grid-cols-4\", \"gap-4\"], [\"class\", \"bg-white rounded-lg shadow-md overflow-hidden\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"justify-center\"], [1, \"animate-spin\", \"rounded-full\", \"h-12\", \"w-12\", \"border-b-2\", \"border-primary\"], [1, \"text-red-600\", \"text-center\", \"mb-4\"], [1, \"flex\", \"flex-col\", \"md:flex-row\", \"items-center\"], [1, \"w-32\", \"h-32\", \"bg-gray-200\", \"rounded-full\", \"overflow-hidden\", \"mb-4\", \"md:mb-0\", \"md:mr-6\", \"flex-shrink-0\"], [\"alt\", \"Profile\", 1, \"w-full\", \"h-full\", \"object-cover\", 3, \"src\"], [1, \"flex-1\"], [1, \"text-2xl\", \"font-bold\", \"mb-2\"], [1, \"text-gray-600\", \"mb-1\"], [1, \"text-gray-500\", \"mb-2\"], [1, \"flex\", \"flex-wrap\", \"gap-4\", \"mt-4\"], [1, \"bg-gray-100\", \"px-4\", \"py-2\", \"rounded-lg\"], [1, \"block\", \"text-gray-500\", \"text-sm\"], [1, \"font-bold\"], [1, \"flex\", \"justify-center\", \"my-8\"], [1, \"text-center\", \"text-gray-500\", \"my-8\"], [1, \"bg-white\", \"rounded-lg\", \"shadow-md\", \"overflow-hidden\"], [1, \"block\", \"h-48\", \"overflow-hidden\", 3, \"routerLink\"], [1, \"w-full\", \"h-full\", \"object-cover\", \"transform\", \"transition-transform\", \"hover:scale-105\", 3, \"src\", \"alt\"], [1, \"p-4\"], [1, \"font-medium\", \"text-gray-800\", \"truncate\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mt-2\"], [1, \"flex\", \"items-center\", \"text-gray-600\", \"text-sm\"], [1, \"mr-2\"], [1, \"text-red-500\", \"hover:text-red-700\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"fas\", \"fa-heart-broken\"]],\n      template: function ProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵtemplate(2, ProfileComponent_div_2_Template, 2, 0, \"div\", 2);\n          i0.ɵɵtemplate(3, ProfileComponent_div_3_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(4, ProfileComponent_div_4_Template, 22, 9, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 5)(6, \"h2\", 6);\n          i0.ɵɵtext(7, \"My Uploads\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, ProfileComponent_div_8_Template, 2, 0, \"div\", 7);\n          i0.ɵɵtemplate(9, ProfileComponent_div_9_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(10, ProfileComponent_div_10_Template, 2, 0, \"div\", 8);\n          i0.ɵɵelementStart(11, \"div\", 9);\n          i0.ɵɵtemplate(12, ProfileComponent_div_12_Template, 14, 8, \"div\", 10);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\")(14, \"h2\", 6);\n          i0.ɵɵtext(15, \"My Favorites\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, ProfileComponent_div_16_Template, 2, 0, \"div\", 7);\n          i0.ɵɵtemplate(17, ProfileComponent_div_17_Template, 2, 1, \"div\", 3);\n          i0.ɵɵtemplate(18, ProfileComponent_div_18_Template, 2, 0, \"div\", 8);\n          i0.ɵɵelementStart(19, \"div\", 9);\n          i0.ɵɵtemplate(20, ProfileComponent_div_20_Template, 14, 8, \"div\", 10);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading.user);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.user);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.user && !ctx.loading.user);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading.images);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.images);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading.images && ctx.userImages.length === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.userImages);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading.favorites);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.favorites);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading.favorites && ctx.favoriteImages.length === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.favoriteImages);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.RouterLink, i3.DatePipe],\n      styles: [\"\\n\\n.profile-avatar[_ngcontent-%COMP%] {\\n  position: relative;\\n}\\n.profile-avatar[_ngcontent-%COMP%]:hover::after {\\n  content: \\\"Change photo\\\";\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background: rgba(0, 0, 0, 0.7);\\n  color: white;\\n  text-align: center;\\n  padding: 0.25rem;\\n  font-size: 0.75rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkJBQUE7QUFDQTtFQUNFLGtCQUFBO0FBQ0Y7QUFDRTtFQUNFLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSw4QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFDSiIsImZpbGUiOiJwcm9maWxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogUHJvZmlsZSBjb21wb25lbnQgc3R5bGVzICovXHJcbi5wcm9maWxlLWF2YXRhciB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIFxyXG4gICY6aG92ZXI6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICdDaGFuZ2UgcGhvdG8nO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMC4yNXJlbTtcclxuICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcclxuICB9XHJcbn1cclxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9maWxlL3Byb2ZpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkJBQUE7QUFDQTtFQUNFLGtCQUFBO0FBQ0Y7QUFDRTtFQUNFLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSw4QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFDSjtBQUNBLGc1QkFBZzVCIiwic291cmNlc0NvbnRlbnQiOlsiLyogUHJvZmlsZSBjb21wb25lbnQgc3R5bGVzICovXHJcbi5wcm9maWxlLWF2YXRhciB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIFxyXG4gICY6aG92ZXI6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICdDaGFuZ2UgcGhvdG8nO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjcpO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMC4yNXJlbTtcclxuICAgIGZvbnQtc2l6ZTogMC43NXJlbTtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","error","user","ɵɵproperty","ctx_r2","avatar","ɵɵsanitizeUrl","ɵɵtextInterpolate","username","email","ɵɵpipeBind2","createdAt","userImages","length","favoriteImages","ctx_r4","images","ɵɵlistener","ProfileComponent_div_12_Template_button_click_12_listener","restoredCtx","ɵɵrestoreView","_r13","image_r11","$implicit","ctx_r12","ɵɵnextContext","ɵɵresetView","deleteImage","getImageId","ɵɵpureFunction1","_c0","ctx_r6","url","title","likesCount","commentsCount","ctx_r8","favorites","ProfileComponent_div_20_Template_button_click_12_listener","_r16","image_r14","ctx_r15","removeFromFavorites","ctx_r10","ProfileComponent","constructor","authService","imageService","loading","ngOnInit","loadUserProfile","loadUserImages","loadFavoriteImages","getCurrentUser","subscribe","next","err","console","getUserImages","getUserFavorites","imageId","confirm","filter","img","alert","unlikeImage","id","_id","image","ɵɵdirectiveInject","i1","AuthService","i2","ImageService","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","ɵɵtemplate","ProfileComponent_div_2_Template","ProfileComponent_div_3_Template","ProfileComponent_div_4_Template","ProfileComponent_div_8_Template","ProfileComponent_div_9_Template","ProfileComponent_div_10_Template","ProfileComponent_div_12_Template","ProfileComponent_div_16_Template","ProfileComponent_div_17_Template","ProfileComponent_div_18_Template","ProfileComponent_div_20_Template"],"sources":["C:\\Users\\aleja\\Desktop\\BINFO\\ATA\\image-crawler\\angular-image-scraper\\src\\app\\components\\profile\\profile.component.ts","C:\\Users\\aleja\\Desktop\\BINFO\\ATA\\image-crawler\\angular-image-scraper\\src\\app\\components\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { ImageService } from '../../services/image.service';\r\nimport { User, Image } from '../../models';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  user: User | null = null;\r\n  userImages: Image[] = [];\r\n  favoriteImages: Image[] = [];\r\n  loading = {\r\n    user: true,\r\n    images: true,\r\n    favorites: true\r\n  };\r\n  error = {\r\n    user: '',\r\n    images: '',\r\n    favorites: ''\r\n  };\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private imageService: ImageService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loadUserProfile();\r\n    this.loadUserImages();\r\n    this.loadFavoriteImages();\r\n  }\r\n  loadUserProfile(): void {\r\n    this.loading.user = true;\r\n    this.authService.getCurrentUser().subscribe({\r\n      next: (user: User) => {\r\n        this.user = user;\r\n        this.loading.user = false;\r\n      },\r\n      error: (err: any) => {\r\n        console.error('Error loading profile:', err);\r\n        this.error.user = 'Failed to load profile information. Please try again.';\r\n        this.loading.user = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadUserImages(): void {\r\n    this.loading.images = true;\r\n    this.imageService.getUserImages().subscribe({\r\n      next: (images) => {\r\n        this.userImages = images;\r\n        this.loading.images = false;\r\n      },\r\n      error: (err) => {\r\n        console.error('Error loading user images:', err);\r\n        this.error.images = 'Failed to load your uploaded images. Please try again.';\r\n        this.loading.images = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadFavoriteImages(): void {\r\n    this.loading.favorites = true;\r\n    this.imageService.getUserFavorites().subscribe({\r\n      next: (favorites: Image[]) => {\r\n        this.favoriteImages = favorites;\r\n        this.loading.favorites = false;\r\n      },\r\n      error: (err) => {\r\n        console.error('Error loading favorites:', err);\r\n        this.error.favorites = 'Failed to load your favorite images. Please try again.';\r\n        this.loading.favorites = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteImage(imageId: string): void {\r\n    if (confirm('Are you sure you want to delete this image?')) {\r\n      this.imageService.deleteImage(imageId).subscribe({\r\n        next: () => {\r\n          this.userImages = this.userImages.filter(img => this.getImageId(img) !== imageId);\r\n        },\r\n        error: (err) => {\r\n          console.error('Error deleting image:', err);\r\n          alert('Failed to delete image. Please try again.');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  removeFromFavorites(imageId: string): void {\r\n    this.imageService.unlikeImage(imageId).subscribe({\r\n      next: () => {\r\n        this.favoriteImages = this.favoriteImages.filter(img => (img.id || img._id) !== imageId);\r\n      },\r\n      error: (err) => {\r\n        console.error('Error removing from favorites:', err);\r\n        alert('Failed to remove from favorites. Please try again.');\r\n      }\r\n    });\r\n  }\r\n\r\n  // Helper method to get image ID regardless of property name\r\n  getImageId(image: Image): string {\r\n    return image.id || image._id || '';\r\n  }\r\n}\r\n","<div class=\"container mx-auto px-4 py-8\">\r\n  <!-- User Profile Section -->\r\n  <div class=\"mb-8 bg-white rounded-lg shadow-md p-6\">\r\n    <div *ngIf=\"loading.user\" class=\"flex justify-center\">\r\n      <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n    </div>\r\n    \r\n    <div *ngIf=\"error.user\" class=\"text-red-600 text-center mb-4\">\r\n      {{ error.user }}\r\n    </div>\r\n    \r\n    <div *ngIf=\"user && !loading.user\" class=\"flex flex-col md:flex-row items-center\">\r\n      <div class=\"w-32 h-32 bg-gray-200 rounded-full overflow-hidden mb-4 md:mb-0 md:mr-6 flex-shrink-0\">\r\n        <!-- User avatar or default avatar -->\r\n        <img [src]=\"user.avatar || 'assets/default-avatar.png'\" alt=\"Profile\" class=\"w-full h-full object-cover\">\r\n      </div>\r\n      \r\n      <div class=\"flex-1\">\r\n        <h1 class=\"text-2xl font-bold mb-2\">{{ user.username }}</h1>\r\n        <p class=\"text-gray-600 mb-1\">{{ user.email }}</p>\r\n        <p class=\"text-gray-500 mb-2\">Member since {{ user.createdAt | date:'mediumDate' }}</p>\r\n        \r\n        <div class=\"flex flex-wrap gap-4 mt-4\">\r\n          <div class=\"bg-gray-100 px-4 py-2 rounded-lg\">\r\n            <span class=\"block text-gray-500 text-sm\">Uploads</span>            <span class=\"font-bold\">{{ userImages.length || 0 }}</span>\r\n          </div>\r\n          <div class=\"bg-gray-100 px-4 py-2 rounded-lg\">\r\n            <span class=\"block text-gray-500 text-sm\">Favorites</span>\r\n            <span class=\"font-bold\">{{ favoriteImages.length || 0 }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- User Uploaded Images -->\r\n  <div class=\"mb-12\">\r\n    <h2 class=\"text-xl font-bold mb-4 border-b pb-2\">My Uploads</h2>\r\n    \r\n    <div *ngIf=\"loading.images\" class=\"flex justify-center my-8\">\r\n      <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n    </div>\r\n    \r\n    <div *ngIf=\"error.images\" class=\"text-red-600 text-center mb-4\">\r\n      {{ error.images }}\r\n    </div>\r\n    \r\n    <div *ngIf=\"!loading.images && userImages.length === 0\" class=\"text-center text-gray-500 my-8\">\r\n      You haven't uploaded any images yet.\r\n    </div>\r\n    \r\n    <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n      <div *ngFor=\"let image of userImages\" class=\"bg-white rounded-lg shadow-md overflow-hidden\">        <a [routerLink]=\"['/image', getImageId(image)]\" class=\"block h-48 overflow-hidden\">\r\n          <img [src]=\"image.url\" [alt]=\"image.title\" class=\"w-full h-full object-cover transform transition-transform hover:scale-105\">\r\n        </a>\r\n        <div class=\"p-4\">\r\n          <h3 class=\"font-medium text-gray-800 truncate\">{{ image.title }}</h3>\r\n          <div class=\"flex justify-between items-center mt-2\">\r\n            <div class=\"flex items-center text-gray-600 text-sm\">\r\n              <span class=\"mr-2\">{{ image.likesCount || 0 }} likes</span>\r\n              <span>{{ image.commentsCount || 0 }} comments</span>\r\n            </div>            <button (click)=\"deleteImage(getImageId(image))\" class=\"text-red-500 hover:text-red-700\">\r\n              <i class=\"fas fa-trash\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <!-- User Favorite Images -->\r\n  <div>\r\n    <h2 class=\"text-xl font-bold mb-4 border-b pb-2\">My Favorites</h2>\r\n    \r\n    <div *ngIf=\"loading.favorites\" class=\"flex justify-center my-8\">\r\n      <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\r\n    </div>\r\n    \r\n    <div *ngIf=\"error.favorites\" class=\"text-red-600 text-center mb-4\">\r\n      {{ error.favorites }}\r\n    </div>\r\n    \r\n    <div *ngIf=\"!loading.favorites && favoriteImages.length === 0\" class=\"text-center text-gray-500 my-8\">\r\n      You haven't added any images to your favorites yet.\r\n    </div>\r\n    \r\n    <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n      <div *ngFor=\"let image of favoriteImages\" class=\"bg-white rounded-lg shadow-md overflow-hidden\">        <a [routerLink]=\"['/image', getImageId(image)]\" class=\"block h-48 overflow-hidden\">\r\n          <img [src]=\"image.url\" [alt]=\"image.title\" class=\"w-full h-full object-cover transform transition-transform hover:scale-105\">\r\n        </a>\r\n        <div class=\"p-4\">\r\n          <h3 class=\"font-medium text-gray-800 truncate\">{{ image.title }}</h3>\r\n          <div class=\"flex justify-between items-center mt-2\">\r\n            <div class=\"flex items-center text-gray-600 text-sm\">\r\n              <span class=\"mr-2\">{{ image.likesCount || 0 }} likes</span>\r\n              <span>{{ image.commentsCount || 0 }} comments</span>\r\n            </div>            <button (click)=\"removeFromFavorites(getImageId(image))\" class=\"text-red-500 hover:text-red-700\">\r\n              <i class=\"fas fa-heart-broken\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}